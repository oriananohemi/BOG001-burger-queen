(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{J2RJ:function(r,e,t){"use strict";t.r(e),t.d(e,"OrderHistoryModule",(function(){return O}));var o=t("ofXK"),n=t("tyNb"),c=t("fXoL"),i=t("lJxs"),s=t("Nobp"),d=t("I/3d");let l=(()=>{class r{constructor(r){this.firestore=r,this.waiterName=localStorage.getItem("waiter"),this.orders$=this.firestore.collection("pedidos").valueChanges()}getAllOrdersActive(){return this.orders$.pipe(Object(i.a)(r=>r.filter(r=>r.status===s.a.toDeliver)))}getAllOrders(){return this.orders$.pipe(Object(i.a)(r=>r.filter(r=>r.status===s.a.delivered)))}delivered(r){this.firestore.doc("pedidos/"+r).update({status:s.a.delivered})}}return r.\u0275fac=function(e){return new(e||r)(c.Sb(d.a))},r.\u0275prov=c.Eb({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),a=(()=>{class r{constructor(r){this.orderHistoryService=r}ngOnInit(){}delivered(r){this.orderHistoryService.delivered(r)}}return r.\u0275fac=function(e){return new(e||r)(c.Ib(l))},r.\u0275cmp=c.Cb({type:r,selectors:[["app-order-active"]],inputs:{order:"order"},decls:7,vars:2,consts:[[1,"order"],[1,"button-medium",3,"click"]],template:function(r,e){1&r&&(c.Ob(0,"article",0),c.Ob(1,"h3"),c.jc(2),c.Nb(),c.Ob(3,"h3"),c.jc(4),c.Nb(),c.Ob(5,"button",1),c.Ub("click",(function(){return e.delivered(e.order.id)})),c.jc(6,"Entregar"),c.Nb(),c.Nb()),2&r&&(c.yb(2),c.kc(null==e.order?null:e.order.name),c.yb(2),c.kc(null==e.order?null:e.order.total))},styles:[".order[_ngcontent-%COMP%]{border:1px solid var(--primary);background-color:var(--black);padding:20px;margin:10px}"]}),r})(),b=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Cb({type:r,selectors:[["app-order-completed"]],inputs:{order:"order"},decls:5,vars:2,consts:[[1,"order"]],template:function(r,e){1&r&&(c.Ob(0,"article",0),c.Ob(1,"h3"),c.jc(2),c.Nb(),c.Ob(3,"h3"),c.jc(4),c.Nb(),c.Nb()),2&r&&(c.yb(2),c.kc(null==e.order?null:e.order.name),c.yb(2),c.kc(null==e.order?null:e.order.total))},styles:[".order[_ngcontent-%COMP%]{border:1px solid var(--primary);background-color:var(--black);padding:20px;margin:10px}"]}),r})();function p(r,e){1&r&&c.Jb(0,"app-order-active",4),2&r&&c.Zb("order",e.$implicit)}function u(r,e){if(1&r&&(c.Mb(0),c.hc(1,p,1,1,"app-order-active",3),c.Xb(2,"async"),c.Lb()),2&r){const r=c.Wb();c.yb(1),c.Zb("ngForOf",c.Yb(2,1,r.ordersActive$))}}function f(r,e){1&r&&(c.Ob(0,"p"),c.jc(1,"No hay ordenes pendientes"),c.Nb())}function v(r,e){1&r&&c.Jb(0,"app-order-completed",4),2&r&&c.Zb("order",e.$implicit)}const y=[{path:"",component:(()=>{class r{constructor(r){this.orderHistoryService=r}ngOnInit(){this.orders$=this.orderHistoryService.getAllOrders(),this.ordersActive$=this.orderHistoryService.getAllOrdersActive()}}return r.\u0275fac=function(e){return new(e||r)(c.Ib(l))},r.\u0275cmp=c.Cb({type:r,selectors:[["app-order-history"]],decls:14,vars:7,consts:[[1,"orders"],[4,"ngIf","ngIfElse"],["noOrders",""],[3,"order",4,"ngFor","ngForOf"],[3,"order"]],template:function(r,e){if(1&r&&(c.Ob(0,"h2"),c.jc(1,"Historial de Pedidos"),c.Nb(),c.Ob(2,"h3"),c.jc(3,"Pedidos Activos"),c.Nb(),c.Ob(4,"div",0),c.hc(5,u,3,3,"ng-container",1),c.Xb(6,"async"),c.Nb(),c.hc(7,f,2,0,"ng-template",null,2,c.ic),c.Ob(9,"h3"),c.jc(10,"Pedidos Cerrados"),c.Nb(),c.Ob(11,"div",0),c.hc(12,v,1,1,"app-order-completed",3),c.Xb(13,"async"),c.Nb()),2&r){const r=c.cc(8);var t;c.yb(5),c.Zb("ngIf",null==(t=c.Yb(6,3,e.ordersActive$))?null:t.length)("ngIfElse",r),c.yb(7),c.Zb("ngForOf",c.Yb(13,5,e.orders$))}},directives:[o.j,o.i,a,b],pipes:[o.b],styles:[".orders[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:space-around;margin:20px}"]}),r})()}];let g=(()=>{class r{}return r.\u0275mod=c.Gb({type:r}),r.\u0275inj=c.Fb({factory:function(e){return new(e||r)},imports:[[n.f.forChild(y)],n.f]}),r})();var h=t("PCNd");let O=(()=>{class r{}return r.\u0275mod=c.Gb({type:r}),r.\u0275inj=c.Fb({factory:function(e){return new(e||r)},imports:[[o.c,g,h.a]]}),r})()}}]);