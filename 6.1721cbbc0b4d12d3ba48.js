(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{uDAn:function(e,r,t){"use strict";t.r(r),t.d(r,"KitchenModule",(function(){return w}));var n=t("ofXK"),o=t("3Pt+"),c=t("tyNb"),i=t("lJxs"),s=t("Nobp"),b=t("fXoL"),a=t("HDdC"),d=t("D0XW"),l=t("Y7HM");function u(e){const{subscriber:r,counter:t,period:n}=e;r.next(t),this.schedule({subscriber:r,counter:t+1,period:n},n)}var p=t("w1tV"),f=t("I/3d");let h=(()=>{class e{constructor(e){this.firestore=e,this.orders$=this.firestore.collection("pedidos").valueChanges(),this.clock=function(e=0,r=d.a){return(!Object(l.a)(e)||e<0)&&(e=0),r&&"function"==typeof r.schedule||(r=d.a),new a.a(t=>(t.add(r.schedule(u,e,{subscriber:t,counter:0,period:e})),t))}(1e3).pipe(Object(i.a)(()=>new Date),Object(p.a)())}getAllOrders(){return this.orders$}getClock(){return this.clock}toDeliver(e){this.firestore.doc("pedidos/"+e).update({status:s.a.toDeliver})}}return e.\u0275fac=function(r){return new(r||e)(b.Sb(f.a))},e.\u0275prov=b.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function g(e,r){if(1&e&&(b.Ob(0,"article"),b.Jb(1,"img",4),b.Ob(2,"h4"),b.jc(3),b.Nb(),b.Ob(4,"h4"),b.jc(5),b.Nb(),b.Ob(6,"h4"),b.jc(7),b.Nb(),b.Nb()),2&e){const e=r.$implicit;b.yb(1),b.Zb("src",e.image,b.fc),b.yb(2),b.lc("Producto: ",e.name,""),b.yb(2),b.lc("Cantidad: ",e.amount,""),b.yb(2),b.kc(e.option?e.option:"")}}let O=(()=>{class e{constructor(e){this.kitchenService=e}ngOnInit(){}toDeliver(e){this.kitchenService.toDeliver(e)}}return e.\u0275fac=function(r){return new(r||e)(b.Ib(h))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-order"]],inputs:{order:"order"},decls:11,vars:4,consts:[[1,"order"],[1,"flex-container"],[4,"ngFor","ngForOf"],[1,"button-medium",3,"click"],["alt","",1,"responsive-image",3,"src"]],template:function(e,r){1&e&&(b.Ob(0,"div",0),b.Ob(1,"h3"),b.jc(2),b.Nb(),b.Ob(3,"h3"),b.jc(4),b.Nb(),b.Ob(5,"div",1),b.hc(6,g,8,4,"article",2),b.Nb(),b.Ob(7,"p"),b.jc(8),b.Nb(),b.Nb(),b.Ob(9,"button",3),b.Ub("click",(function(){return r.toDeliver(r.order.id)})),b.jc(10,"Entregar"),b.Nb()),2&e&&(b.yb(2),b.lc("Cliente: ",null==r.order?null:r.order.name,""),b.yb(2),b.kc(r.order.date),b.yb(2),b.Zb("ngForOf",null==r.order?null:r.order.productsArray),b.yb(2),b.kc(null!=r.order&&r.order.observations?r.order.observations:""))},directives:[n.i],styles:[".order[_ngcontent-%COMP%]{background-color:var(--black);border:1px solid var(--primary);margin:20px;padding:20px;text-align:left;height:300px}.order[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{height:100px}"]}),e})();function v(e,r){1&e&&b.Jb(0,"app-order",3),2&e&&b.Zb("order",r.$implicit)}function y(e,r){if(1&e&&(b.Mb(0),b.hc(1,v,1,1,"app-order",2),b.Xb(2,"async"),b.Lb()),2&e){const e=b.Wb();b.yb(1),b.Zb("ngForOf",b.Yb(2,1,e.orders$))}}function m(e,r){1&e&&(b.Ob(0,"p"),b.jc(1,"No hay ordenes pendientes"),b.Nb())}const k=[{path:"",component:(()=>{class e{constructor(e){this.kitchenService=e}ngOnInit(){this.orders$=this.kitchenService.getAllOrders().pipe(Object(i.a)(e=>e.filter(e=>e.status===s.a.preparing))),this.date$=this.kitchenService.getClock()}}return e.\u0275fac=function(r){return new(r||e)(b.Ib(h))},e.\u0275cmp=b.Cb({type:e,selectors:[["app-kitchen"]],decls:9,vars:7,consts:[[4,"ngIf","ngIfElse"],["noOrders",""],[3,"order",4,"ngFor","ngForOf"],[3,"order"]],template:function(e,r){if(1&e&&(b.Ob(0,"h2"),b.jc(1,"Cocina - Pedidos"),b.Nb(),b.Ob(2,"span"),b.jc(3),b.Xb(4,"async"),b.Nb(),b.hc(5,y,3,3,"ng-container",0),b.Xb(6,"async"),b.hc(7,m,2,0,"ng-template",null,1,b.ic)),2&e){const e=b.cc(8);var t;b.yb(3),b.kc(b.Yb(4,3,r.date$)),b.yb(2),b.Zb("ngIf",null==(t=b.Yb(6,5,r.orders$))?null:t.length)("ngIfElse",e)}},directives:[n.j,n.i,O],pipes:[n.b],styles:[""]}),e})()}];let j=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(r){return new(r||e)},imports:[[c.f.forChild(k)],c.f]}),e})();var N=t("PCNd");let w=(()=>{class e{}return e.\u0275mod=b.Gb({type:e}),e.\u0275inj=b.Fb({factory:function(r){return new(r||e)},imports:[[j,n.c,o.b,N.a]]}),e})()}}]);