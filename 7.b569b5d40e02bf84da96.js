(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{KAJh:function(t,e,c){"use strict";c.r(e),c.d(e,"MenuModule",(function(){return W}));var n=c("ofXK"),o=c("3Pt+"),i=c("tyNb"),r=c("lJxs"),s=c("fXoL"),a=c("I/3d");let u=(()=>{class t{constructor(t){this.waiter=localStorage.getItem("waiter"),this.items$=t.collection("items").valueChanges(),this.menu$=t.collection("menu").valueChanges()}getAllProducts(){return this.items$}getMenuType(){return this.menu$}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(a.a))},t.\u0275prov=s.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=c("2Vo4"),p=c("Nobp");let b=(()=>{class t{constructor(t){this.afs=t,this.products=[],this.productsSubject=new d.a([]),this.products$=this.productsSubject.asObservable(),this.total$=this.products$.pipe(Object(r.a)(t=>this.getTotal(t))),this.client=localStorage.getItem("client"),this.waiter=localStorage.getItem("waiter"),this.ordersCollection=this.afs.collection("pedidos")}getTotal(t){return t.reduce((t,{amount:e,price:c})=>t+e*c,0)}addCart(t,e){const c=this.products.findIndex(e=>e.id===t.id||e.option===t.option);-1!==c?this.products[c].amount++:(t.amount=1,t.option=e||"",this.products=[...this.products,t]),this.productsSubject.next(this.products)}changeAmount(t){t.amount>1?(t.amount--,this.productsSubject.next(this.products)):this.removeProduct(t)}removeProduct(t){this.products=this.products.filter(e=>e.id!==t.id),this.productsSubject.next(this.products)}addOrder(){const t=this.afs.createId(),e={id:t,name:this.client,waiter:this.waiter,status:p.a.preparing,productsArray:this.products,total:this.getTotal(this.products),date:new Date};return this.ordersCollection.doc(t).set(e)}}return t.\u0275fac=function(e){return new(e||t)(s.Sb(a.a))},t.\u0275prov=s.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function l(t,e){if(1&t&&(s.Ob(0,"div"),s.Ob(1,"h3"),s.jc(2),s.Nb(),s.Nb()),2&t){const t=s.Wb();s.yb(2),s.kc(t.product.option)}}let h=(()=>{class t{constructor(t){this.cartService=t,this.productClicked=new s.n}ngOnInit(){}addCart(){this.cartService.addCart(this.product)}changeAmount(){this.cartService.changeAmount(this.product)}removeProduct(){this.cartService.removeProduct(this.product)}}return t.\u0275fac=function(e){return new(e||t)(s.Ib(b))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-product-checkout"]],inputs:{product:"product"},outputs:{productClicked:"productClicked"},decls:15,vars:5,consts:[[1,"flex-container","product-container"],[1,"half-left"],[1,"responsive-image",3,"src","alt"],[4,"ngIf"],[1,"flex-container","half-right"],[3,"click"]],template:function(t,e){1&t&&(s.Ob(0,"article",0),s.Ob(1,"div",1),s.Jb(2,"img",2),s.Ob(3,"h2"),s.jc(4),s.Nb(),s.hc(5,l,3,1,"div",3),s.Nb(),s.Ob(6,"div",4),s.Ob(7,"span",5),s.Ub("click",(function(){return e.changeAmount()})),s.jc(8,"-"),s.Nb(),s.Ob(9,"span"),s.jc(10),s.Nb(),s.Ob(11,"span",5),s.Ub("click",(function(){return e.addCart()})),s.jc(12,"+"),s.Nb(),s.Ob(13,"span",5),s.Ub("click",(function(){return e.removeProduct()})),s.jc(14,"Borrar"),s.Nb(),s.Nb(),s.Nb()),2&t&&(s.yb(2),s.Zb("src",e.product.image,s.fc)("alt",e.product.name),s.yb(2),s.kc(e.product.name),s.yb(1),s.Zb("ngIf",e.product.option),s.yb(5),s.kc(e.product.amount))},directives:[n.j],styles:[".half-left[_ngcontent-%COMP%]{font-size:16px;width:200px}.product-container[_ngcontent-%COMP%]{border:1px solid var(--primary);padding:20px}.half-right[_ngcontent-%COMP%]{width:200px}"]}),t})();function f(t,e){if(1&t&&(s.Ob(0,"div"),s.Jb(1,"app-product-checkout",13),s.Nb()),2&t){const t=e.$implicit;s.yb(1),s.Zb("product",t)}}function g(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div"),s.Ob(1,"div",7),s.Ob(2,"h2",8),s.jc(3),s.Nb(),s.Ob(4,"span",9),s.Ub("click",(function(){return s.ec(t),s.Wb(2).hide()})),s.jc(5,"X"),s.Nb(),s.Nb(),s.hc(6,f,2,1,"div",10),s.Xb(7,"async"),s.Ob(8,"h3",11),s.jc(9),s.Xb(10,"async"),s.Nb(),s.Ob(11,"button",12),s.Ub("click",(function(){return s.ec(t),s.Wb(2).save()})),s.jc(12,"Confirmar"),s.Nb(),s.Nb()}if(2&t){const t=s.Wb(2);s.yb(3),s.lc("Pedido: ",t.client,""),s.yb(3),s.Zb("ngForOf",s.Yb(7,3,t.products$)),s.yb(3),s.lc("Total: ",s.Yb(10,5,t.total$)," ")}}function m(t,e){if(1&t){const t=s.Pb();s.Ob(0,"span",9),s.Ub("click",(function(){return s.ec(t),s.Wb(2).hide()})),s.jc(1,"X"),s.Nb(),s.Ob(2,"p"),s.jc(3,"Aun no hay productos"),s.Nb()}}function O(t,e){if(1&t&&(s.Ob(0,"section",4),s.hc(1,g,13,7,"div",5),s.Xb(2,"async"),s.hc(3,m,4,0,"ng-template",null,6,s.ic),s.Nb()),2&t){const t=s.cc(4),e=s.Wb();s.yb(1),s.Zb("ngIf",s.Yb(2,2,e.products$).length)("ngIfElse",t)}}function v(t,e){if(1&t){const t=s.Pb();s.Ob(0,"section",14),s.Ob(1,"h3"),s.jc(2),s.Xb(3,"async"),s.Nb(),s.Ob(4,"span",9),s.Ub("click",(function(){return s.ec(t),s.Wb().showCheckout()})),s.jc(5,"+"),s.Nb(),s.Nb()}if(2&t){const t=s.Wb();s.yb(2),s.lc("Total: ",s.Yb(3,1,t.total$)," ")}}function y(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",15),s.Ob(1,"h3"),s.jc(2),s.Nb(),s.Ob(3,"button",16),s.Ub("click",(function(){return s.ec(t),s.Wb().confirm()})),s.jc(4,"OK"),s.Nb(),s.Nb()}if(2&t){const t=s.Wb();s.yb(2),s.lc("Pedido: ",t.client," enviado ")}}function w(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div",15),s.Ob(1,"h3"),s.jc(2,"Error al realizar el pedido, intente de nuevo"),s.Nb(),s.Ob(3,"button",16),s.Ub("click",(function(){return s.ec(t),s.Wb().showCheckout()})),s.jc(4,"OK"),s.Nb(),s.Nb()}}let k=(()=>{class t{constructor(t,e,c){this.cartService=t,this.router=e,this.window=c,this.status="",this.client=this.cartService.client,this.products$=this.cartService.products$,this.total$=this.cartService.total$}ngOnInit(){this.onResize(this.window)}showCheckout(){this.status="show"}hide(){this.status=""}onResize(t){t.innerWidth>=1020&&(this.status="show")}save(){this.cartService.addOrder().then(()=>{this.request="success"}).catch(()=>this.request="error")}confirm(){localStorage.removeItem("client"),this.router.navigate(["mesas"])}}return t.\u0275fac=function(e){return new(e||t)(s.Ib(b),s.Ib(i.c),s.Ib("Window"))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-checkout"]],features:[s.xb([{provide:"Window",useValue:window}])],decls:6,vars:4,consts:[[3,"resize"],["class","checkout__productList",4,"ngIf","ngIfElse"],["sectionMobile",""],["class","message",4,"ngIf"],[1,"checkout__productList"],[4,"ngIf","ngIfElse"],["elseSection",""],[1,"flex-container","checkout-header"],[1,"title"],[3,"click"],[4,"ngFor","ngForOf"],[1,"checkout__total"],[1,"button-long",3,"click"],[3,"product"],[1,"checkout","flex-container"],[1,"message"],[1,"button-medium",3,"click"]],template:function(t,e){if(1&t&&(s.Ob(0,"div",0),s.Ub("resize",(function(t){return e.onResize(t.target)}),!1,s.dc),s.hc(1,O,5,4,"section",1),s.Nb(),s.hc(2,v,6,3,"ng-template",null,2,s.ic),s.hc(4,y,5,1,"div",3),s.hc(5,w,5,0,"div",3)),2&t){const t=s.cc(3);s.yb(1),s.Zb("ngIf","show"===e.status)("ngIfElse",t),s.yb(3),s.Zb("ngIf","success"===e.request),s.yb(1),s.Zb("ngIf","error"===e.request)}},directives:[n.j,n.i,h],pipes:[n.b],styles:[".checkout[_ngcontent-%COMP%]{background-color:var(--primary);color:var(--white);font-size:20px;min-height:50px;padding:0 20px;position:fixed;bottom:0;width:100%}.checkout__productList[_ngcontent-%COMP%]{background-color:var(--black);color:var(--primary);min-height:100%;position:absolute;top:20%;width:100%}.checkout-header[_ngcontent-%COMP%], .checkout__total[_ngcontent-%COMP%]{padding:10px 20px}.checkout__total[_ngcontent-%COMP%]{font-size:25px;text-align:left}.message[_ngcontent-%COMP%]{align-items:center;background-color:var(--black);display:flex;justify-content:center;position:fixed;top:20%;left:10%;padding:20px;height:50%;width:80%;z-index:5}.hiden[_ngcontent-%COMP%]{display:none}@media (min-width:1020px){.checkout__productList[_ngcontent-%COMP%]{right:0;width:40%}}"]}),t})();function x(t,e){if(1&t&&(s.Ob(0,"option",8),s.jc(1),s.Nb()),2&t){const t=e.$implicit;s.Zb("value",t),s.yb(1),s.kc(t)}}function C(t,e){if(1&t){const t=s.Pb();s.Ob(0,"div"),s.Ob(1,"div",1),s.Jb(2,"img",2),s.Ob(3,"p",3),s.jc(4),s.Nb(),s.Ob(5,"p"),s.jc(6),s.Nb(),s.Ob(7,"span",3),s.jc(8),s.Nb(),s.Ob(9,"select",4),s.Ub("ngModelChange",(function(e){return s.ec(t),s.Wb().option=e}))("change",(function(){s.ec(t);const e=s.Wb();return e.setOption(e.option)})),s.Ob(10,"option",5),s.jc(11,"Sabores"),s.Nb(),s.hc(12,x,2,2,"option",6),s.Nb(),s.Ob(13,"button",7),s.Ub("click",(function(){return s.ec(t),s.Wb().addCart()})),s.jc(14,"Agregar"),s.Nb(),s.Nb(),s.Nb()}if(2&t){const t=s.Wb();s.yb(2),s.Zb("src",t.product.image,s.fc)("alt",t.product.name),s.yb(2),s.kc(t.product.name),s.yb(2),s.kc(t.product.description),s.yb(2),s.kc(t.product.price),s.yb(1),s.Zb("ngModel",t.option),s.yb(3),s.Zb("ngForOf",t.product.options)}}let N=(()=>{class t{constructor(t){this.cartService=t,this.status="",this.option=""}ngOnInit(){}showOptions(){this.status="show"}hideOptions(){this.status=""}setOption(t){this.option=t}addCart(){this.cartService.addCart(this.product,this.option)}}return t.\u0275fac=function(e){return new(e||t)(s.Ib(b))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-product"]],inputs:{product:"product"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"product"],[1,"responsive-image",3,"src","alt"],[1,"product__description"],[3,"ngModel","ngModelChange","change"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"button-long",3,"click"],[3,"value"]],template:function(t,e){1&t&&s.hc(0,C,15,7,"div",0),2&t&&s.Zb("ngIf",e.product)},directives:[n.j,o.g,o.c,o.d,o.e,o.h,n.i],styles:[".product[_ngcontent-%COMP%]{background-color:var(--black);border:1px solid var(--primary);margin:20px auto;padding:10px;width:60%}.product__description[_ngcontent-%COMP%]{margin:10px 0}.modal[_ngcontent-%COMP%]{background-color:#000;position:fixed;bottom:0;height:50%;left:0;right:0;top:0;width:50%}@media (min-width:700px){.product[_ngcontent-%COMP%]{width:250px}}"]}),t})();function j(t,e){1&t&&s.Jb(0,"app-product",2),2&t&&s.Zb("product",e.$implicit)}let P=(()=>{class t{constructor(t,e){this.productsService=t,this.activatedRoute=e,this.option=""}ngOnInit(){const t=this.activatedRoute.snapshot.paramMap.get("type");this.products$=this.productsService.getAllProducts().pipe(Object(r.a)(e=>e.filter(e=>e.menu===t&&"extras"!==e.submenu)))}setOption(t){this.option=t}addCart(){this.cartService.addCart(this.product,this.option)}}return t.\u0275fac=function(e){return new(e||t)(s.Ib(u),s.Ib(i.a))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-menu-list"]],inputs:{product:"product"},decls:4,vars:3,consts:[[1,"products-container"],["class","product",3,"product",4,"ngFor","ngForOf"],[1,"product",3,"product"]],template:function(t,e){1&t&&(s.Ob(0,"div",0),s.hc(1,j,1,1,"app-product",1),s.Xb(2,"async"),s.Nb(),s.Jb(3,"app-checkout")),2&t&&(s.yb(1),s.Zb("ngForOf",s.Yb(2,1,e.products$)))},directives:[n.i,k,N],pipes:[n.b],styles:["@media (min-width:700px){.products-container[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:space-between;flex-wrap:wrap;margin:0 auto;width:90%}}@media (min-width:1020px){.products-container[_ngcontent-%COMP%]{margin:30px;width:50%}}"]}),t})();const _=function(t){return["/menu",t]};function I(t,e){if(1&t&&(s.Ob(0,"div",3),s.Ob(1,"h2",4),s.jc(2),s.Xb(3,"titlecase"),s.Nb(),s.Jb(4,"img",5),s.Nb()),2&t){const t=e.$implicit;s.Zb("routerLink",s.ac(6,_,t.type)),s.yb(2),s.kc(s.Yb(3,4,t.type)),s.yb(2),s.Zb("src",t.image,s.fc)("alt",t.type)}}const M=[{path:"",component:(()=>{class t{constructor(t){this.productsService=t,this.client=localStorage.getItem("client")}ngOnInit(){this.menu=this.productsService.getMenuType()}}return t.\u0275fac=function(e){return new(e||t)(s.Ib(u))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-menu"]],decls:5,vars:4,consts:[[1,"title"],[1,"menu-flex"],["class","menu",3,"routerLink",4,"ngFor","ngForOf"],[1,"menu",3,"routerLink"],[1,"menu-title"],[1,"responsive-image",3,"src","alt"]],template:function(t,e){1&t&&(s.Ob(0,"h2",0),s.jc(1),s.Nb(),s.Ob(2,"div",1),s.hc(3,I,5,8,"div",2),s.Xb(4,"async"),s.Nb()),2&t&&(s.yb(1),s.lc("Pedido: ",e.client,""),s.yb(2),s.Zb("ngForOf",s.Yb(4,2,e.menu)))},directives:[n.i,i.d],pipes:[n.b,n.n],styles:[".menu[_ngcontent-%COMP%]{border:1px solid var(--primary);background-color:var(--black);margin:50px auto;height:400px;padding:10px;width:60%}@media (min-width:700px){.menu[_ngcontent-%COMP%]{width:40%}.menu-flex[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center}}@media (min-width:1020px){.menu[_ngcontent-%COMP%]{margin:50px 20px;height:600px;width:30%}}"]}),t})()},{path:":type",component:P}];let S=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(e){return new(e||t)},imports:[[i.f.forChild(M)],i.f]}),t})();var $=c("PCNd");let W=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(e){return new(e||t)},imports:[[n.c,S,$.a,o.b]]}),t})()}}]);